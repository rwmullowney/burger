<h1>Eat-Da-Burger</h1>

<h3>View Burgers</h3>

<h5>Uneaten Burgers:</h5>
<ul>
  {{#each uneatenBurgers}}
  <li>
    <p>Burger: {{this.burger_name}}</p>
    <button type="button" class="btn btn-danger" id="{{this.id}}">Devour Burger</button>
  </li>
  {{/each}}
</ul>

<h5>Devoured Burgers:</h5>
<ul>
  {{#each eatenBurgers}}
  <li>
    <p>Burger: {{this.burger_name}}</p>
  </li>
  {{/each}}
</ul>

<div>
  {{!--
  <form action="/" method="POST"> --}}
    <textarea type="text" id="newBurger"></textarea>

    <button type="submit" class="submitBurger">Submit</button>
    {{!-- </form> --}}
</div>


<script type="text/javascript">
  $(".submitBurger").on('click', function (event) {
    event.preventDefault();
    console.log("The button is clicked")

    // Grab and clear the user input
    let newBurger = {
      burger_name: $("#newBurger").val()
    }
    $("#newBurger").val("");

    // Send the POST request
    $.ajax("/", {
      type: "POST",
      data: newBurger
    }).then(function () {
      console.log("Sent the burger")

      // Not sure I need to use this?
      location.reload();
    });
  });

  $(".btn-danger").on('click', function (event) {
    event.preventDefault();
    console.log("ID of the button clicked: " + this.id)
  });
</script>